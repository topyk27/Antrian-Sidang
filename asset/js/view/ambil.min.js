var dt_antrian;function ambil(a,t,n,r,e,d,i,o){$.ajax({url:base_url+"jadwal/insert_antrian",method:"POST",data:{perkara_id:a,perkara:t,penggugat:n,tergugat:r,jadwal_sidang:e,agenda:d,ruang_sidang_id:i,ruang_sidang:o},dataType:"json",beforeSend:function(){$(".loader2").show()},success:function(a){$(".loader2").hide(),"enable"==printable?a.success?cetak(a.no_antrian,t,e,o):alert("ada kesalahan, harap refresh halaman"):a.success?(dt_antrian.ajax.reload(),$("#responSimbol").text("done"),$("#modal_title").html("Nomor Antrian "+a.no_antrian+"<br>di "+a.ruang_sidang),$("#modal_body").text("Silahkan menunggu nomor antrian anda dipanggil"),$("#modal_footer").hide(),$("#ambil_modal").modal({backdrop:"static",keyboard:!1}),setTimeout((function(){$("#ambil_modal").modal("hide")}),5e3)):alert("ada kesalahan, harap refresh halaman")},error:function(a){$(".loader2").hide(),alert("ada yang salah"),console.log(a)}})}function cetak(a,t,n,r){n=(n=n.split("-"))[2]+"-"+n[1]+"-"+n[0],$.ajax({url:base_url+"jadwal/cetak",data:{no_antrian:a,perkara:t,jadwal:n,ruang:r},method:"POST",dataType:"JSON",beforeSend:function(){$(".loader2").show()},success:function(t){1==t.success?(dt_antrian.ajax.reload(),$("#responSimbol").text("done"),$("#modal_title").html("Nomor Antrian "+a+"<br>di "+r),$("#modal_body").text("Silahkan menunggu nomor antrian anda dipanggil"),$("#modal_footer").hide(),$("#ambil_modal").modal({backdrop:"static",keyboard:!1}),setTimeout((function(){$("#ambil_modal").modal("hide")}),5e3)):alert("Gagal cetak antrian"),$(".loader2").hide()},error:function(a){console.log(a),$(".loader2").hide(),alert("ada yang salah, harap periksa jaringan")}})}$(document).ready((function(){$("#sidebar_ambil_antrian").addClass("active"),dt_antrian=$("#dt_antrian").DataTable({order:[[1,"asc"]],ajax:{url:base_url+"jadwal/ambil_antrian_hari_ini",dataSrc:"data_jadwal"},columns:[{data:"id"},{data:"perkara"},{data:"penggugat"},{data:"tergugat"},{data:"ruang"},{data:"ruang_sidang_id"},{data:"tanggal_sidang"},{data:"agenda"}],columnDefs:[{targets:[0,5,6,7],visible:!1},{responsivePriority:1,targets:[1,2]}],responsive:!0,autoWidth:!1}),$("#dt_antrian tbody").on("click","tr",(function(a){a.preventDefault();var t=$(this).closest("li").length?$(this).closest("li"):$(this).closest("tr"),n=$("#dt_antrian").DataTable().row(t).data();void 0!==n&&($("#modal_title").html("Ambil antrian"),$("#ambil_modal").modal({backdrop:"static",keyboard:!1}),$("#modal_footer").show(),n.tergugat?$("#ambil_modal").find(".modal-body").html("<p>Ambil antrian nomor perkara "+n.perkara+"<br>Penggugat : "+n.penggugat+"<br>Tergugat : "+n.tergugat):$("#ambil_modal").find(".modal-body").html("<p>Ambil antrian nomor perkara "+n.perkara+"<br>Penggugat : "+n.penggugat),$("#ambil_modal").find("#ambil_button").attr("onclick","ambil("+n.id+",'"+n.perkara+"','"+n.penggugat+"','"+n.tergugat+"','"+n.tanggal_sidang+"','"+n.agenda+"',"+n.ruang_sidang_id+",'"+n.ruang+"')"))})),setInterval((function(){dt_antrian.ajax.reload(null,!1)}),3e4)}));