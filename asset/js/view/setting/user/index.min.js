var dt_user;function hapusData(a){$.ajax({url:base_url+"setting/user_hapus",type:"POST",data:{id:a},dataType:"TEXT",beforeSend:function(){$(".loader2").show()},success:function(a){$(".loader2").hide(),a?(dt_user.ajax.reload(null,!1),$("#respon").html("<div class='alert alert-success' role='alert' id='responMsg'><strong>Selamat</strong> Data berhasil dihapus</div>"),$("#responMsg").hide().fadeIn(200).delay(2e3).fadeOut(1e3,(function(){$(this).remove()}))):($("#respon").html("<div class='alert alert-warning' role='alert' id='responMsg'><strong>Maaf</strong> Data gagal dihapus</div>"),$("#responMsg").hide().fadeIn(200).delay(2e3).fadeOut(1e3,(function(){$(this).remove()})))},error:function(a){console.log(a),$(".loader2").hide(),$("#respon").html("<div class='alert alert-danger' role='alert' id='responMsg'><strong>Error</strong> mohon periksa jaringan internet anda.</div>"),$("#responMsg").hide().fadeIn(200).delay(2e3).fadeOut(1e3,(function(){$(this).remove()}))}})}$(document).ready((function(){$("#sidebar_setting").addClass("active"),$("#sidebar_setting_user").addClass("active"),dt_user=$("#dt_user").DataTable({ajax:{url:base_url+"setting/data_user",dataSrc:"user"},columns:[{data:"id"},{data:null,sortable:!1,render:function(a,e,t,s){return s.row+s.settings._iDisplayStart+1}},{data:"username"},{data:"nama"},{data:"ruangan"},{data:null,sortable:!1,render:function(a,e,t,s){return"<a href="+base_url+"setting/user_ubah/"+t.id+" class='btn btn-warning'><i class='fas fa-edit'></i>Ubah</a>"}},{data:null,sortable:!1,render:function(a,e,t,s){return"<a href='#' class='btn btn-danger deleteButton'><i class='fas fa-trash'></i>Hapus</a>"}}],columnDefs:[{targets:[0],visible:!1},{targets:[1,2,4],responsivePriority:1}],responsive:!0,autoWidth:!1}),$("#dt_user tbody").on("click","tr .deleteButton",(function(a){a.preventDefault();var e=$(this).closest("li").length?$(this).closest("li"):$(this).closest("tr"),t=$("#dt_user").DataTable().row(e).data();$("#hapusModal").modal("show"),$("#hapusModal").find(".modal-body").html("<p>Apakah anda ingin menghapus data "+t.nama+"? Data ini tidak bisa dipulihkan kembali."),$("#hapusModal").find("#deleteButton").attr("onclick","hapusData("+t.id+")")}))}));